<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Message üíñ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #ffeef8 0%, #ffb3d9 50%, #ff80bf 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            overflow: hidden;
        }

        .page {
            display: none;
            width: 100%;
            max-width: 1200px;
            padding: 20px;
        }

        .page.active {
            display: block;
        }

        /* Video Intro Page */
        .video-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        /* Start button overlay */
        .start-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10001;
            gap: 20px;
        }

        .start-overlay.hidden {
            display: none;
        }

        .start-button {
            background: linear-gradient(135deg, #ff80bf 0%, #ff1493 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 24px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.5);
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .start-text {
            color: white;
            font-size: 18px;
            text-align: center;
            padding: 0 20px;
        }

        .video-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        #introVideo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        /* Ensure video covers on mobile */
        @media (max-width: 768px) {
            #introVideo {
                object-fit: cover;
                width: 100vw;
                height: 100vh;
            }
        }

        .video-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            pointer-events: none;
        }

        /* Shutdown effect */
        .shutdown {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 10000;
            display: none;
        }

        .shutdown.active {
            display: block;
        }

        /* Landing Page */
        .terminal-box {
            background: linear-gradient(135deg, #fff 0%, #ffe6f2 100%);
            border: 3px solid #ff80bf;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 15px 50px rgba(255, 128, 191, 0.3);
        }

        .terminal-content {
            font-size: 18px;
            line-height: 2;
            color: #ff1493;
            min-height: 150px;
        }

        .cursor {
            display: inline-block;
            width: 10px;
            height: 20px;
            background: #ff1493;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        button {
            background: linear-gradient(135deg, #ff80bf 0%, #ff1493 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            box-shadow: 0 5px 20px rgba(255, 20, 147, 0.4);
            font-weight: bold;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 20, 147, 0.5);
            background: linear-gradient(135deg, #ff1493 0%, #ff80bf 100%);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Editor Page */
        .editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .editor-panel {
            background: linear-gradient(135deg, #fff 0%, #ffe6f2 100%);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(255, 128, 191, 0.3);
            border: 2px solid #ffb3d9;
        }

        .letter-content {
            font-size: 16px;
            line-height: 1.8;
            color: #d6006e;
            white-space: pre-wrap;
            min-height: 400px;
        }

        .slideshow {
            position: relative;
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            border: 3px solid #ff80bf;
            box-shadow: 0 10px 30px rgba(255, 128, 191, 0.3);
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #333;
        }

        .slide.active-slide {
            opacity: 1;
        }

        .slide-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slide-placeholder {
            color: #888;
            font-size: 16px;
            text-align: center;
            padding: 20px;
        }

        /* Console Page */
        .console-box {
            background: linear-gradient(135deg, #fff 0%, #ffe6f2 100%);
            border: 3px solid #ff80bf;
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            margin: 0 auto;
            box-shadow: 0 15px 50px rgba(255, 128, 191, 0.3);
        }

        .console-output {
            font-size: 18px;
            line-height: 2;
            color: #ff1493;
            margin-bottom: 30px;
            min-height: 150px;
        }

        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Yes Page */
        .yes-page {
            background: linear-gradient(135deg, #ffe6f2 0%, #ff80bf 50%, #ff1493 100%);
        }

        .success-box {
            text-align: center;
            padding: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            backdrop-filter: blur(10px);
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(255, 20, 147, 0.4);
            border: 3px solid #ff80bf;
        }

        .success-box h1 {
            font-size: 42px;
            margin-bottom: 20px;
            animation: celebrate 0.5s ease-in-out;
            line-height: 1.3;
            color: #ff1493;
        }

        .success-box p {
            font-size: 20px;
            margin-bottom: 30px;
            line-height: 1.6;
            color: #d6006e;
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f0f;
            position: absolute;
            animation: confetti-fall 3s linear infinite;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes celebrate {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* No Page */
        .no-page {
            background: linear-gradient(135deg, #ffe6f2 0%, #ffc0e0 100%);
        }

        .error-box {
            text-align: center;
            padding: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            backdrop-filter: blur(10px);
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(255, 128, 191, 0.4);
            border: 3px solid #ff80bf;
        }

        .error-box h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: #ff1493;
        }

        .error-box p {
            font-size: 24px;
            margin-bottom: 30px;
            color: #d6006e;
        }

        @media (max-width: 768px) {
            .editor-container {
                grid-template-columns: 1fr;
            }
            
            .terminal-box, .console-box, .success-box, .error-box {
                padding: 20px;
            }
            
            button {
                padding: 12px 30px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Video Intro Page -->
    <div id="videoPage" class="page active video-page">
        <!-- Start Button Overlay for Mobile -->
        <div id="startOverlay" class="start-overlay">
            <p class="start-text">Tap to begin your special message üíñ</p>
            <button class="start-button" onclick="startExperience()">Start ‚ñ∂</button>
        </div>
        
        <div class="video-container">
            <video id="introVideo" playsinline muted>
                <source src="hemry_sznvid.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <audio id="bgMusic" loop>
            <source src="FOLA-Ft-Victony-Golibe-(TrendyBeatz.com).mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- Music Configuration (Edit these values) -->
    <script>
        // MUSIC SETTINGS - Edit start and end times here
        const MUSIC_START_TIME = 19.5;  // Start time in seconds (e.g., 5 for 5 seconds in)
        const MUSIC_END_TIME = 0;    // End time in seconds (0 = play until video ends)
    </script>

    <!-- Shutdown Effect -->
    <div id="shutdown" class="shutdown"></div>

    <!-- Landing Page -->
    <div id="landingPage" class="page">
        <div class="terminal-box">
            <div class="terminal-content" id="terminalContent"></div>
            <button id="continueBtn" style="display:none;" onclick="goToEditor()">Continue</button>
        </div>
    </div>

    <!-- Editor Page -->
    <div id="editorPage" class="page">
        <div class="editor-container">
            <div class="editor-panel">
                <div class="letter-content" id="letterContent"></div>
                <button id="runCodeBtn" disabled onclick="goToConsole()">Run Code ‚ñ∂</button>
            </div>
            <div class="editor-panel">
                <div class="slideshow">
                    <div class="slide active-slide">
                        <img class="slide-image" src="henry-babe1.jpg" alt="Memory 1">
                        <div class="slide-placeholder">Add your first image URL</div>
                    </div>
                    <div class="slide">
                        <img class="slide-image" src="henry-babe 2.jpg" alt="Memory 2">
                        <div class="slide-placeholder">Add your second image URL</div>
                    </div>
                    div class="slide">
                        <img class="slide-image" src="henry-babe  3.jpg" alt="Memory 2">
                        <div class="slide-placeholder">Add your second image URL</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Console Page -->
    <div id="consolePage" class="page">
        <div class="console-box">
            <div class="console-output" id="consoleOutput"></div>
            <div class="button-group" id="answerButtons" style="display:none;">
                <button onclick="goToYes()" style="background: linear-gradient(135deg, #ff80bf 0%, #ff1493 100%);">Yes ‚ù§Ô∏è</button>
                <button onclick="goToNo()" style="background: linear-gradient(135deg, #ffb3d9 0%, #ff80bf 100%); color: #fff;">No üò¢</button>
            </div>
        </div>
    </div>

    <!-- Yes Page -->
    <div id="yesPage" class="page yes-page">
        <div class="success-box">
            <h1>My heart just found its home üíñ</h1>
            <p>Thank you for saying yes... I can't wait to write our story together üíú</p>
            <button onclick="location.reload()">Start Our Journey</button>
        </div>
    </div>

    <!-- No Page -->
    <div id="noPage" class="page no-page">
        <div class="error-box">
            <h1>System crashed... üíî</h1>
            <p>Error: Unhandled heartbreak üíî</p>
            <button onclick="location.reload()">Retry</button>
        </div>
    </div>

    <script>
        const video = document.getElementById('introVideo');
        const music = document.getElementById('bgMusic');
        const shutdown = document.getElementById('shutdown');
        const startOverlay = document.getElementById('startOverlay');

        // Function to start the experience (required for mobile)
        function startExperience() {
            // Hide the start overlay
            startOverlay.classList.add('hidden');
            
            // Unmute video and start playback
            video.muted = false;
            video.playbackRate = 0.5; // Slow motion (50% speed)
            
            // Set music start time and play
            music.currentTime = MUSIC_START_TIME;
            
            // Play both video and music
            video.play().catch(e => console.log('Video play error:', e));
            music.play().catch(e => console.log('Music play error:', e));
            
            // Stop music at specified end time if set
            if (MUSIC_END_TIME > 0) {
                music.addEventListener('timeupdate', () => {
                    if (music.currentTime >= MUSIC_END_TIME) {
                        music.pause();
                    }
                });
            }
            
            // When video ends, trigger shutdown effect
            video.addEventListener('ended', () => {
                // DON'T pause music - let it continue playing
                
                // Hide video page and show black screen
                document.getElementById('videoPage').style.display = 'none';
                shutdown.classList.add('active');
                
                // After 2 seconds of blackout, show terminal page
                setTimeout(() => {
                    shutdown.classList.remove('active');
                    document.getElementById('landingPage').classList.add('active');
                    typeTerminal();
                }, 2000);
            });
        }

        // For desktop: auto-start (will be blocked on mobile anyway)
        window.onload = () => {
            // Try to autoplay (will work on desktop, fail on mobile)
            video.play().then(() => {
                // If autoplay works (desktop), hide the start button
                startOverlay.classList.add('hidden');
                startExperience();
            }).catch(() => {
                // Autoplay blocked (mobile) - show start button
                console.log('Autoplay blocked - showing start button');
            });
        };

        // Terminal typing effect
        const terminalLines = [
            "Initializing...",
            "Connecting to Moana_server...",
            "Running love_query()..."
        ];

        let currentLine = 0;
        let currentChar = 0;
        const terminalContent = document.getElementById('terminalContent');

        function typeTerminal() {
            if (currentLine < terminalLines.length) {
                if (currentChar < terminalLines[currentLine].length) {
                    terminalContent.innerHTML += terminalLines[currentLine][currentChar];
                    currentChar++;
                    setTimeout(typeTerminal, 50);
                } else {
                    terminalContent.innerHTML += '<br>';
                    currentLine++;
                    currentChar = 0;
                    setTimeout(typeTerminal, 500);
                }
            } else {
                terminalContent.innerHTML += '<span class="cursor"></span>';
                document.getElementById('continueBtn').style.display = 'inline-block';
            }
        }

        // Letter typing effect
        const letterText = `My Moana üå∫‚ù§Ô∏è
Hey mmesomachi ü•∫‚ù§Ô∏è,
I've been meaning to say this for a while, but I wanted to find the right words and time.
Every moment with you feels like something out of a beautiful story.
The laughter, the late-night talks, the late night stroll.
You bring this warmth and energy that makes everything feel lighter, more meaningful.
You remind me of Moana, brave, kind, full of heart, and unafraid to chase what she believes in.
And honestly, I can't imagine this journey without you by my side.
So, here I am, heart in hand, asking you‚Ä¶ `;

        let letterIndex = 0;
        const letterContent = document.getElementById('letterContent');

        function typeLetter() {
            if (letterIndex < letterText.length) {
                letterContent.textContent += letterText[letterIndex];
                letterIndex++;
                setTimeout(typeLetter, 30);
            } else {
                document.getElementById('runCodeBtn').disabled = false;
            }
        }

        // Slideshow
        let slideIndex = 0;
        let slideshowInterval;

        function showSlides() {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active-slide'));
            slideIndex = (slideIndex + 1) % slides.length;
            slides[slideIndex].classList.add('active-slide');
        }

        // Console typing
        const consoleLines = [
            "> Running confess()...",
            "> Every variable in my life points to you, Moana.",
            "> Will you be my Moana? ‚ù§Ô∏è"
        ];

        let consoleLine = 0;
        let consoleChar = 0;
        const consoleOutput = document.getElementById('consoleOutput');

        function typeConsole() {
            if (consoleLine < consoleLines.length) {
                if (consoleChar < consoleLines[consoleLine].length) {
                    consoleOutput.innerHTML += consoleLines[consoleLine][consoleChar];
                    consoleChar++;
                    setTimeout(typeConsole, 50);
                } else {
                    consoleOutput.innerHTML += '<br>';
                    consoleLine++;
                    consoleChar = 0;
                    setTimeout(typeConsole, 500);
                }
            } else {
                consoleOutput.innerHTML += '<span class="cursor"></span>';
                document.getElementById('answerButtons').style.display = 'flex';
            }
        }

        // Email function
        async function sendEmail(response) {
            const emailData = {
                access_key: '217deba2-291b-44f6-90a7-ae32cd8a7b82',
                subject: response === 'yes' ? 'SHE SAID YES! üéâ' : 'BETTER LUCK NEXT TIME',
                message: response === 'yes' ? 'Moana said YES to your proposal! üíñ' : 'Moana said no. Better luck next time.',
                email: 'Temiloluwahenry4@gmail.com'
            };

            try {
                const res = await fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(emailData)
                });
                const data = await res.json();
                console.log('Email sent:', data);
            } catch (error) {
                console.error('Error sending email:', error);
            }
        }

        // Navigation functions
        function goToEditor() {
            document.getElementById('landingPage').classList.remove('active');
            document.getElementById('editorPage').classList.add('active');
            typeLetter();
            slideshowInterval = setInterval(showSlides, 4000);
        }

        function goToConsole() {
            clearInterval(slideshowInterval);
            document.getElementById('editorPage').classList.remove('active');
            document.getElementById('consolePage').classList.add('active');
            typeConsole();
        }

        function goToYes() {
            document.getElementById('consolePage').classList.remove('active');
            document.getElementById('yesPage').classList.add('active');
            createConfetti();
            sendEmail('yes');
        }

        function goToNo() {
            document.getElementById('consolePage').classList.remove('active');
            document.getElementById('noPage').classList.add('active');
            sendEmail('no');
        }

        // Confetti function
        function createConfetti() {
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f093fb', '#4facfe', '#fa8bff', '#2bcbba'];
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = Math.random() * 10 + 5 + 'px';
                    confetti.style.animationDuration = Math.random() * 2 + 2 + 's';
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    
                    document.getElementById('yesPage').appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 20);
            }
        }
    </script>
</body>
</html>